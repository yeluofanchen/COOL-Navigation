{"version":3,"sources":["main.js"],"names":["console","log","$webSiteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMapArr","length","logo","url","link","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","onbeforeunload","string","stringify","setItem","document","key","i","toLowerCase"],"mappings":"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","file":"main.3b9762b6.map","sourceRoot":"../src","sourcesContent":["console.log(\"----jQuery 玩耍时间----\");\n\nconst $webSiteList = $(\".webSiteList\");\nconst $lastLi = $webSiteList.find(\"li.lastLi\");\n\n// 拿到 localStorage 中存储的\nconst x = localStorage.getItem(\"hashArr\");\nconst xObject = JSON.parse(x);\n\nlet hashMapArr = xObject;\n\nif (hashMapArr.length < 2) {\n  hashMapArr = [\n    {\n      logo: \"A\",\n      url: \"https://www.bilibili.com/\",\n      link: \"acfun.com\",\n    },\n    {\n      logo: \"B\",\n      url: \"https://www.bilibili.com/\",\n      link: \"bilibili.com\",\n    },\n  ];\n}\n\nconst simplifyUrl = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"http://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(\".com\", \"\")\n    .replace(/\\/.*/, \"\"); // 删除 / 开头的内容\n};\n\nconst render = () => {\n  // 第一次进入函数时, remove 也执行了, 通过 DOM 操作了 HTML , 不过 hashMapArr 的数据还在 JS 内存中, 所以立即就渲染了出来\n  $webSiteList.find(\"li:not(.lastLi\").remove();\n  hashMapArr.forEach((node, index) => {\n    const $li = $(`<li>\n    <div class=\"webSite\">\n      <div class=\"logo\">${node.logo}</div>\n      <div class=\"link\">${simplifyUrl(node.link)}</div>\n      <div class=\"close\">\n        <svg class=\"icon\">\n          <use xlink:href=\"#icon-close\"></use>\n        </svg>\n      </div>\n    </div>\n  </li>`).insertBefore($lastLi);\n    $li.on(\"click\", () => {\n      window.open(node.url);\n    });\n\n    $li.on(\"click\", \".close\", function (e) {\n      // console.log(\"我点击了这里\");\n      e.stopPropagation(); // 阻止冒泡\n      hashMapArr.splice(index, 1);\n      render();\n    });\n  });\n};\n\nrender();\n\n$(\".addButton\").on(\"click\", () => {\n  let url = window.prompt(\"请问你要添加的网址是啥?\");\n\n  if (url.indexOf(\"http\") !== 0) {\n    url = \"https://\" + url;\n  }\n  // console.log(url);\n\n  hashMapArr.push({\n    logo: simplifyUrl(url)[0],\n    url: url,\n    link: url,\n  });\n  render();\n\n  // let dele = window.prompt(\"请问你确定要删除这个网址么?\");\n});\n\nwindow.onbeforeunload = () => {\n  console.log(\"123\");\n  const string = JSON.stringify(hashMapArr);\n  // console.log(string);\n\n  localStorage.setItem(\"hashArr\", string);\n};\n\n$(document).on(\"keypress\", (e) => {\n  // const key = e.key, 可以简写, 当变量名和属性名是一样的时候;\n  const { key } = e;\n  for (let i = 0; i < hashMapArr.length; i++) {\n    if (hashMapArr[i].logo.toLowerCase() === key) {\n      window.open(hashMapArr[i].url);\n    }\n  }\n});\n"]}